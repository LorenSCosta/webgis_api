from pydantic import BaseModel
from sqlalchemy import Column, Integer, String, ForeignKey
from sqlalchemy.orm import relationship
from webgis_api.database import Base
from webgis_api.Models.pessoa import pessoa
from enum import Enum



class tipoUsuario(str, Enum):
    admin = 'admin'
    analista = 'analista'

class usuarios (Base):
    __Tablename__ = 'usuarios'

    id = Column(Integer, primary_key=True, autoincrement=True)
    login = Column(String(50), unique=True, nullable=False)
    senha = Column(String(50), nullable=False)
    tipo = Column(String(20), default=tipoUsuario.analista.value, nullable=False)

    pessoa_id = Column(Integer, ForeignKey('pessoa.id'))
    pessoa = relationship('pessoa', backref='usuarios')


   